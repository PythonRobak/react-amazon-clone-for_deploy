{"ast":null,"code":"import _slicedToArray from\"/Users/robak1337/Desktop/DEV/React/amazon-clone-backup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{db}from\"./firebase\";import\"./Orders.css\";import moment from\"moment\";import CheckoutProduct from\"./CheckoutProduct\";import CurrencyFormat from\"react-currency-format\";import{useStateValue}from\"./StateProvider\";import Order from\"./Order\";function Orders(_ref){var order=_ref.order;var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispach=_useStateValue2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];useEffect(function(){if(user){db.collection(\"users\").doc(user===null||user===void 0?void 0:user.uid).collection(\"orders\").orderBy(\"created\",\"desc\").onSnapshot(function(snapshot){return setOrders(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});}else{setOrders([]);}},[user]);return/*#__PURE__*/React.createElement(\"div\",{className:\"orders\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Your Orders\"),/*#__PURE__*/React.createElement(\"div\",{className:\"orders__order\"},orders===null||orders===void 0?void 0:orders.map(function(order){return/*#__PURE__*/React.createElement(Order,{order:order});})));}export default Orders;","map":{"version":3,"sources":["/Users/robak1337/Desktop/DEV/React/amazon-clone-backup/src/Orders.js"],"names":["React","useEffect","useState","db","moment","CheckoutProduct","CurrencyFormat","useStateValue","Order","Orders","order","basket","user","dispach","orders","setOrders","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","map","id","data"],"mappings":"6KAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,EAAT,KAAmB,YAAnB,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CAEA,QAASC,CAAAA,MAAT,MAA2B,IAATC,CAAAA,KAAS,MAATA,KAAS,oBACWH,aAAa,EADxB,sFAChBI,MADgB,kBAChBA,MADgB,CACRC,IADQ,kBACRA,IADQ,CACAC,OADA,kCAEGX,QAAQ,CAAC,EAAD,CAFX,wCAElBY,MAFkB,eAEVC,SAFU,eAIzBd,SAAS,CAAC,UAAM,CACd,GAAIW,IAAJ,CAAU,CACRT,EAAE,CAACa,UAAH,CAAc,OAAd,EACGC,GADH,CACOL,IADP,SACOA,IADP,iBACOA,IAAI,CAAEM,GADb,EAEGF,UAFH,CAEc,QAFd,EAGGG,OAHH,CAGW,SAHX,CAGsB,MAHtB,EAIGC,UAJH,CAIc,SAACC,QAAD,QACVN,CAAAA,SAAS,CACPM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACN,GAAD,QAAU,CAC1BO,EAAE,CAAEP,GAAG,CAACO,EADkB,CAE1BC,IAAI,CAAER,GAAG,CAACQ,IAAJ,EAFoB,CAAV,EAAlB,CADO,CADC,EAJd,EAYD,CAbD,IAaO,CACLV,SAAS,CAAC,EAAD,CAAT,CACD,CACF,CAjBQ,CAiBN,CAACH,IAAD,CAjBM,CAAT,CAkBA,mBACE,2BAAK,SAAS,CAAC,QAAf,eACE,4CADF,cAEE,2BAAK,SAAS,CAAC,eAAf,EACGE,MADH,SACGA,MADH,iBACGA,MAAM,CAAES,GAAR,CAAY,SAACb,KAAD,qBACX,oBAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,EADW,EAAZ,CADH,CAFF,CADF,CAUD,CAED,cAAeD,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { db } from \"./firebase\";\nimport \"./Orders.css\";\nimport moment from \"moment\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { useStateValue } from \"./StateProvider\";\nimport Order from \"./Order\";\n\nfunction Orders({ order }) {\n  const [{ basket, user }, dispach] = useStateValue();\n  const [orders, setOrders] = useState([]);\n\n  useEffect(() => {\n    if (user) {\n      db.collection(\"users\")\n        .doc(user?.uid)\n        .collection(\"orders\")\n        .orderBy(\"created\", \"desc\")\n        .onSnapshot((snapshot) =>\n          setOrders(\n            snapshot.docs.map((doc) => ({\n              id: doc.id,\n              data: doc.data(),\n            }))\n          )\n        );\n    } else {\n      setOrders([]);\n    }\n  }, [user]);\n  return (\n    <div className=\"orders\">\n      <h1>Your Orders</h1>\n      <div className=\"orders__order\">\n        {orders?.map((order) => (\n          <Order order={order} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Orders;\n"]},"metadata":{},"sourceType":"module"}